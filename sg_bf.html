<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å†›åŠŸå…µç¬¦è®¡ç®—å™¨</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <style>
      select,
      button {
        width: 100%;
        padding: 12px;
        margin-bottom: 20px;
        border-radius: 8px;
        border: 1px solid #ccc;
        box-sizing: border-box;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <button
        class="back-home-button"
        onclick="window.location.href='index.html'"
      >
        å›åˆ°é¦–é¡µ
      </button>
      <h1>
        å½“å‰å†›åŠŸè¿˜éœ€xå…µç¬¦è®¡ç®—å™¨<br />
        <a
          href="#tutorial"
          style="
            font-size: 14px;
            color: #1a73e8;
            text-decoration: underline;
            cursor: pointer;
          "
        >
          â¡ï¸ğŸ‘‰ ç¬¬ä¸€æ¬¡ä½¿ç”¨è¯·ç‚¹æˆ‘æŸ¥çœ‹è¯´æ˜æ•™ç¨‹ ğŸ‘ˆâ¬…ï¸
        </a>
      </h1>

      <label>å½“å‰å†›åŠŸæ•°å€¼ï¼š</label>
      <input type="number" id="currentMerit" placeholder="ä¾‹å¦‚ 8888, 1.76 ç­‰" />

      <label>å½“å‰å†›åŠŸå•ä½ï¼š</label>
      <select id="currentMeritUnit">
        <option value="10000">ä¸‡</option>
        <option value="100000000">äº¿</option>
      </select>

      <label>ç›®æ ‡å†›åŠŸæ•°å€¼ï¼ˆå•ä½ä¸ºäº¿ï¼‰ï¼š</label>
      <input type="number" id="targetMerit" placeholder="ä¾‹å¦‚ 0.88,1.26 ç­‰" />

      <label>é¢„ä¼°å†›åŠŸå€ç‡ï¼š</label>
      <select id="meritMultiplier">
        <option value="1.0">1.0</option>
        <option value="1.1">1.1</option>
        <option value="1.15">1.15</option>
        <option value="1.2">1.2</option>
        <option value="1.25">1.25</option>
        <option value="1.3">1.3</option>
      </select>

      <button onclick="calculate()">è®¡ç®—æ‰€éœ€å…µç¬¦</button>

      <div id="result" class="result"></div>
      <div class="info-panel" id="tutorial">
        <h2>è¯´æ˜</h2>
        <p>
          <strong>è¯æ¡è§£é‡Šã€å†›åŠŸå€ç‡ã€‘ï¼š</strong><br />
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ€é«˜1å…µ=13å†›åŠŸï¼Œå³1å…µæœ€é«˜å†›åŠŸä¸ºè‡ªèº«çš„1.3å€ï¼Œå³å†›åŠŸå€ç‡åœ¨1.0~1.3é—´ã€‚<br />
        </p>
      </div>
    </div>

    <script>
      function calculate() {
        const currentMerit =
          parseFloat(document.getElementById("currentMerit").value) || 0;
        const currentUnit = parseInt(
          document.getElementById("currentMeritUnit").value
        );
        const targetMeritValue =
          parseFloat(document.getElementById("targetMerit").value) || 0;
        const meritMultiplier = parseFloat(
          document.getElementById("meritMultiplier").value
        );

        const targetMerit = targetMeritValue * 100000000;

        const actualCurrentMerit = currentMerit * currentUnit;

        const neededMerit = targetMerit - actualCurrentMerit;

        if (neededMerit <= 0) {
          document.getElementById("result").innerText =
            "å·²è¾¾æ ‡æˆ–è¶…å‡ºç›®æ ‡å†›åŠŸï¼Œæ— éœ€è¡¥å……å…µç¬¦ï¼";
          return;
        }

        const meritPerToken = 5000 * 10 * meritMultiplier;

        const neededTokens = Math.ceil(neededMerit / meritPerToken);

        document.getElementById(
          "result"
        ).innerText = `é¢„è®¡è¿˜éœ€è¦è¡¥å……å…µç¬¦æ•°é‡ä¸ºï¼š${neededTokens.toLocaleString()} ä¸ª`;
      }
    </script>
  </body>
</html>
