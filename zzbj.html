<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ç™¾å®¶äº‰é¸£ç§¯åˆ†è®¡ç®—</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>

  <body>
    <div class="container">
      <button
        class="back-home-button"
        onclick="window.location.href='index.html'"
      >
        å›åˆ°é¦–é¡µ
      </button>

      <h1>
        ç™¾å®¶äº‰é¸£ï¼ˆè¯¸å­ç™¾å®¶ï¼‰ç§¯åˆ†è®¡ç®—<br />
        <a
          href="#tutorial"
          style="
            font-size: 14px;
            color: #1a73e8;
            text-decoration: underline;
            cursor: pointer;
          "
        >
          â¡ï¸ğŸ‘‰ ç¬¬ä¸€æ¬¡ä½¿ç”¨è¯·ç‚¹æˆ‘æŸ¥çœ‹è¯´æ˜æ•™ç¨‹ ğŸ‘ˆâ¬…ï¸
        </a>
      </h1>

      <form id="contestForm">
        <div class="input-container">
          <label for="remainingDays">å‰©ä½™æ´»åŠ¨æ—¶é—´ - å¤©ï¼š</label>
          <input
            type="number"
            id="remainingDays"
            placeholder="0~3"
            min="0"
            max="3"
          />
        </div>

        <div class="input-container">
          <label for="remainingHours">å‰©ä½™æ´»åŠ¨æ—¶é—´ - å°æ—¶ï¼š</label>
          <input
            type="number"
            id="remainingHours"
            placeholder="0~23"
            min="0"
            max="23"
          />
        </div>

        <div class="input-container">
          <label for="currentBase">ç›®å‰åŸºç¡€ç§¯åˆ†ï¼ˆä¸‡ï¼‰ï¼š</label>
          <input type="number" id="currentBase" step="0.01" value="0" />
        </div>

        <div class="input-container">
          <label for="target">ç›®æ ‡ç§¯åˆ†ï¼ˆä¸‡ï¼‰ï¼š</label>
          <input type="number" id="target" step="0.01" value="0" />
        </div>

        <div class="input-container">
          <label for="studentsPerPost">ä¸€ä¸ªåŠå­¦å¸–å¯æ‹›å‹Ÿçš„å­¦ç”Ÿæ•°é‡ï¼š</label>
          <input
            type="number"
            id="studentsPerPost"
            step="1"
            placeholder="ä¾‹å¦‚ï¼š388"
          />
        </div>

        <div class="input-container">
          <label for="postCount">ç›®å‰å·²æœ‰çš„åŠå­¦å¸–æ•°é‡ï¼š</label>
          <input
            type="number"
            id="postCount"
            step="1"
            placeholder="ä¾‹å¦‚ï¼š12345"
          />
        </div>

        <button type="button" onclick="calculateNeededPosts()">
          è®¡ç®—æ‰€éœ€åŠå­¦å¸–æ•°é‡
        </button>
      </form>

      <div class="result" id="result"></div>

      <!-- è¯´æ˜æ¿å— -->
      <div class="info-panel" id="tutorial">
        <h2>è¯´æ˜</h2>
        <p>
          <strong>è¯æ¡è§£é‡Šï¼š</strong><br />
          <strong
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‰©ä½™æ—¶é•¿ï¼š</strong
          >ç™¾å®¶äº‰é¸£æ´»åŠ¨ç•Œé¢ï¼Œå¤§çº¢ç»¸ç¼æ ‡é¢˜ï¼šâ€œç™¾å®¶ç¬¬ä¸€å­¦æ´¾äº¤æµå¤§ä¼šâ€ä¸‹æ–¹çš„æ´»åŠ¨æ—¥æœŸå¤„ï¼Œæ‹¬å·ä¸­å¯çœ‹åˆ°å‰©ä½™å¤©æ•°ä¸æ—¶é•¿ã€‚<br />
          <strong
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç›®å‰åŸºç¡€ç§¯åˆ†ï¼š</strong
          >æ´»åŠ¨å¼€å§‹å‰æ”’çš„ï¼Œç‚¹å®Œåä¼šæœ‰ä¸ªåŸºç¡€ç§¯åˆ†ï¼Œåœ¨ç™¾å®¶äº‰é¸£æ´»åŠ¨ç•Œé¢æŸ¥çœ‹ã€‚<br />
          <strong
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç›®æ ‡ç§¯åˆ†ï¼š</strong
          >å†²æ¦œæˆ–è€…å®Œæˆä»»åŠ¡ï¼Œè¦è¾¾åˆ°çš„ç§¯åˆ†æ•°ã€‚<br />
          <strong
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€ä¸ªåŠå­¦å¸–å¯æ‹›å‹Ÿçš„å­¦ç”Ÿæ•°é‡ï¼š</strong
          >ç‚¹å¼€è¯¸å­ç™¾å®¶çš„ç•Œé¢åï¼Œç‚¹å¼€å³ä¸‹è§’çš„â€œåŠå­¦å¸–â€å¯æŸ¥çœ‹æ•°é‡å’Œå¯æ‹›å‹Ÿçš„å­¦ç”Ÿæ•°ã€‚<br />
        </p>
      </div>
    </div>

    <script>
      function calculateNeededPosts() {
        const currentBase = parseFloat(
          document.getElementById("currentBase").value
        );
        const target = parseFloat(document.getElementById("target").value);
        const studentsPerPost = parseFloat(
          document.getElementById("studentsPerPost").value
        );
        const postCount = parseInt(document.getElementById("postCount").value);
        const remainingDays = parseInt(
          document.getElementById("remainingDays").value
        );
        const remainingHours = parseInt(
          document.getElementById("remainingHours").value
        );

        if (
          isNaN(currentBase) ||
          isNaN(target) ||
          isNaN(studentsPerPost) ||
          isNaN(postCount) ||
          isNaN(remainingDays) ||
          isNaN(remainingHours) ||
          studentsPerPost <= 0
        ) {
          document.getElementById("result").innerText = "è¯·å¡«å†™æ‰€æœ‰æœ‰æ•ˆæ•°æ®ã€‚";
          return;
        }

        const postPoints = (studentsPerPost * postCount) / 10000;
        const currentTotal = currentBase + postPoints;
        const remainingTimeInMinutes =
          remainingDays * 24 * 60 + remainingHours * 60;
        const naturalGrowth =
          (remainingTimeInMinutes * studentsPerPost) / 10000;
        const maxPoints = currentTotal + naturalGrowth;
        const diff = target - maxPoints;

        if (diff <= 0) {
          document.getElementById(
            "result"
          ).innerText = `å½“å‰ç§¯åˆ† + è‡ªç„¶å¢é•¿å·²è¶³å¤Ÿè¾¾åˆ°ç›®æ ‡ç§¯åˆ†ï¼\né¢„è®¡å¯è¾¾ç§¯åˆ†ï¼š${maxPoints.toFixed(
            2
          )} ä¸‡`;
          return;
        }

        const neededPosts = Math.ceil((diff * 10000) / studentsPerPost);

        document.getElementById("result").innerText =
          `å½“å‰æ€»ç§¯åˆ†ä¸ºï¼š${currentTotal.toFixed(2)} ä¸‡\n` +
          `å‰©ä½™è‡ªç„¶å¢é•¿ç§¯åˆ†ä¸ºï¼š${naturalGrowth.toFixed(2)} ä¸‡\n` +
          `é¢„è®¡æ€»ç§¯åˆ†ä¸ºï¼š${maxPoints.toFixed(2)} ä¸‡\n` +
          `ä»éœ€ä½¿ç”¨åŠå­¦å¸–æ•°é‡çº¦ï¼š${neededPosts} ä¸ª`;
      }
    </script>
  </body>
</html>
