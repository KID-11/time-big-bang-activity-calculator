<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ç¹åç››ä¸–ç§¯åˆ†è®¡ç®—</title>
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>

  <body>
    <div class="container">
      <button
        class="back-home-button"
        onclick="window.location.href='index.html'"
      >
        å›åˆ°é¦–é¡µ
      </button>

      <h1>
        ç¹åç››ä¸–(ç››å”å¤œå¸‚)ç§¯åˆ†è®¡ç®—<br />
        <a
          href="#tutorial"
          style="
            font-size: 14px;
            color: #1a73e8;
            text-decoration: underline;
            cursor: pointer;
          "
        >
          â¡ï¸ğŸ‘‰ ç¬¬ä¸€æ¬¡ä½¿ç”¨è¯·ç‚¹æˆ‘æŸ¥çœ‹è¯´æ˜æ•™ç¨‹ ğŸ‘ˆâ¬…ï¸
        </a>
      </h1>

      <form id="prosperityForm">
        <div class="input-container">
          <label for="remainingDays">å‰©ä½™æ´»åŠ¨æ—¶é—´ - å¤©ï¼š</label>
          <input
            type="number"
            id="remainingDays"
            placeholder="0~3"
            min="0"
            max="3"
          />
        </div>

        <div class="input-container">
          <label for="remainingHours">å‰©ä½™æ´»åŠ¨æ—¶é—´ - å°æ—¶ï¼š</label>
          <input
            type="number"
            id="remainingHours"
            placeholder="0~23"
            min="0"
            max="23"
          />
        </div>

        <div class="input-container">
          <label for="currentBase">ç›®å‰åŸºç¡€ç§¯åˆ† (ä¸‡)ï¼š</label>
          <input type="number" id="currentBase" step="0.01" value="0" />
        </div>

        <div class="input-container">
          <label for="target">ç›®æ ‡ç§¯åˆ† (ä¸‡)ï¼š</label>
          <input type="number" id="target" step="0.01" value="0" />
        </div>

        <div class="input-container">
          <label for="traffic">æ€»å®¢æµé‡ (ä¸‡/å°æ—¶)ï¼š</label>
          <input type="number" id="traffic" step="0.001" value="0" />
        </div>

        <div class="input-container">
          <label for="brochures">ç›®å‰å·²æœ‰çš„å®£ä¼ å†Œæ•°é‡ï¼š</label>
          <input type="number" id="brochures" value="0" />
        </div>

        <button type="button" onclick="calculateBrochures()">
          è®¡ç®—æ‰€éœ€å®£ä¼ å†Œæ•°é‡
        </button>
      </form>

      <div class="result" id="result"></div>

      <!-- è¯´æ˜æ¿å— -->
      <div class="info-panel" id="tutorial">
        <h2>è¯´æ˜</h2>
        <p><strong>çµæ„Ÿï¼š</strong>å†°å·18 å­œç„¶</p>
        <p>
          <strong>bugè¯´æ˜ï¼š</strong><br />
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”±äºå®£ä¼ å†Œä½¿ç”¨ç»“ç®—çš„å»ºç­‘æ˜¯éšæœºçš„ï¼Œå³å®¢æµé‡éšæœº(æ¯ä¸ªå»ºç­‘çš„å®¢æµé‡ä¸åŒ)ï¼Œæ‰€ä»¥æœ¬è®¡ç®—ç»“æœæ˜¯å¹³å‡æ‹ŸåˆçŠ¶æ€ä¸‹çš„è®¡ç®—æ•°å€¼ï¼Œä»…ä¾›å‚è€ƒ!
          ç°å¯¹å„é¡¹éœ€å¡«æ•°å€¼è¿›è¡Œè§£é‡Šè¯´æ˜:<br />
          <strong
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‰©ä½™æ—¶é•¿ï¼š</strong
          >ç¹åå¤œå¸‚æ´»åŠ¨ç•Œé¢ï¼Œå¤§çº¢ç»¸ç¼æ ‡é¢˜ï¼šâ€œç¹åå¤œå¸‚è¯„é€‰å¤§èµ›â€ä¸‹æ–¹çš„æ´»åŠ¨æ—¥æœŸå¤„ï¼Œæ‹¬å·ä¸­å¯çœ‹åˆ°å‰©ä½™å¤©æ•°ä¸æ—¶é•¿ã€‚<br />
          <strong
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç›®å‰åŸºç¡€ç§¯åˆ†ï¼š</strong
          >æ´»åŠ¨å¼€å§‹å‰æ”’çš„ï¼Œç‚¹å®Œåä¼šæœ‰ä¸ªåŸºç¡€ç§¯åˆ†ï¼Œåœ¨ç¹åå¤œå¸‚æ´»åŠ¨ç•Œé¢æŸ¥çœ‹ã€‚<br />
          <strong
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç›®æ ‡ç§¯åˆ†ï¼š</strong
          >å†²æ¦œæˆ–è€…å®Œæˆä»»åŠ¡ï¼Œè¦è¾¾åˆ°çš„ç§¯åˆ†æ•°ã€‚<br />
          <strong
            >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ€»å®¢æµé‡ï¼š</strong
          >ç‚¹å¼€ç››å”å¤œå¸‚çš„ç•Œé¢åï¼Œç‚¹å‡»å³ä¸‹è§’çš„â€œç®¡ç†â€å¯æŸ¥çœ‹ï¼ˆç®¡ç†å°±åœ¨å®£ä¼ å†Œæ—è¾¹ï¼‰ï¼Œç®¡ç†ç•Œé¢æ˜¾ç¤ºçš„ç¬¬äºŒæ å³å¯æŸ¥çœ‹æ€»å®¢æµé‡ã€‚<br />
        </p>
      </div>
    </div>

    <script>
      function calculateBrochures() {
        const currentBase = parseFloat(
          document.getElementById("currentBase").value
        );
        const target = parseFloat(document.getElementById("target").value);
        const traffic = parseFloat(document.getElementById("traffic").value);
        const brochures = parseInt(document.getElementById("brochures").value);
        const remainingDays = parseInt(
          document.getElementById("remainingDays").value
        );
        const remainingHours = parseInt(
          document.getElementById("remainingHours").value
        );

        if (
          isNaN(currentBase) ||
          isNaN(target) ||
          isNaN(traffic) ||
          isNaN(brochures) ||
          isNaN(remainingDays) ||
          isNaN(remainingHours) ||
          traffic === 0 ||
          remainingDays < 0 ||
          remainingHours < 0 ||
          remainingHours > 23
        ) {
          document.getElementById("result").innerText =
            "è¯·å¡«å†™æœ‰æ•ˆæ•°æ®ï¼Œæ—¶é—´èŒƒå›´åº”ä¸ºï¼šå¤© >= 0ï¼Œå°æ—¶åœ¨ 0~23ã€‚";
          return;
        }
        const currentTotal = currentBase + (brochures * traffic) / 8;
        const totalRemainingHours = remainingDays * 24 + remainingHours;
        const naturalGrowth = totalRemainingHours * traffic;
        const maxPossiblePoints = currentTotal + naturalGrowth;
        const diff = target - maxPossiblePoints;

        if (diff <= 0) {
          document.getElementById(
            "result"
          ).innerText = `å½“å‰ç§¯åˆ† + è‡ªç„¶å¢é•¿å·²è¶³å¤Ÿè¾¾åˆ°ç›®æ ‡ç§¯åˆ†ï¼\nå¯è¾¾åˆ°ç§¯åˆ†ä¸ºï¼š${maxPossiblePoints.toFixed(
            2
          )} ä¸‡`;
          return;
        }

        const neededBrochures = Math.ceil((8 * diff) / traffic);

        document.getElementById("result").innerText =
          `å½“å‰æ€»ç§¯åˆ†ä¸ºï¼š${currentTotal.toFixed(2)} ä¸‡\n` +
          `å‰©ä½™è‡ªç„¶å¢é•¿ç§¯åˆ†ä¸ºï¼š${naturalGrowth.toFixed(2)} ä¸‡\n` +
          `é¢„è®¡æ€»ç§¯åˆ†ä¸ºï¼š${maxPossiblePoints.toFixed(2)} ä¸‡\n` +
          `ä»éœ€ä½¿ç”¨å®£ä¼ å†Œæ•°é‡çº¦ï¼š${neededBrochures} ä¸ª`;
      }
    </script>
  </body>
</html>
